<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pageify</title>
</head>
<body>
    <h1>Pageify</h1>
    <h2>Enter list of books here:</h2>
    <label for="input">Input field:</label>
    <textarea id="input" style="height: 80%" rows="20" cols="40"></textarea>
    <button onclick="parse();">Parse</button>
    <label for="output">Output field:</label>
    <textarea id="output" rows="20" cols="40" placeholder="Click parse..."></textarea>
    <a href="https://www.googleapis.com/books/v1/volumes?q=harry+potter&callback=handleResponse">test</a>
</body>
</html>

<script>
    function parse() {
        var output = document.getElementById("output");
        var lines = document.getElementById("input").value.split('\n');
        var url = "https://www.googleapis.com/books/v1/volumes?q=";
        output.value = "";
        for(var i=0;i<lines.length;i++){
//            output.value = output.value + "line " + i + " - value: "+lines[i]+"\n";
//            var object = JSON.parse(httpGet(url));
            var object = JSON.parse(httpGet(url+lines[i]+'&maxResults=1'));
//            output.value = JSON.stringify(object);
            output.value = output.value + JSON.stringify(object.items[0].volumeInfo.title)+'\n';
        }
    }
</script>
<script>
    function httpGet(url)
    {
        var xmlHttp = new XMLHttpRequest();
        xmlHttp.open( "GET", url, false ); // false for synchronous request
        xmlHttp.send( null );
        return xmlHttp.responseText;
    }
</script>
